{"version":3,"sources":["webpack:///src/views/Order/OrderConfirm.vue","webpack:///./src/views/Order/OrderConfirm.vue?41bb","webpack:///./src/views/Order/OrderConfirm.vue"],"names":["OrderConfirm","data","address","orderInfo","worksData","payInfo","methods","buyWorks","_this","this","Object","user","then","res","out_trade_no","id","product_code","total_amount","price","subject","body","worksId","div","document","createElement","innerHTML","appendChild","forms","punchout_form","submit","catch","err","console","log","mounted","_this2","$route","params","works","Order_OrderConfirm","render","_vm","_h","$createElement","_c","_self","staticClass","attrs","interval","type","height","_l","list","index","key","src","attachmentPath","alt","_v","_m","ref","status-icon","model","label","disabled","value","callback","$$v","$set","expression","on","click","$event","staticRenderFns","Component","__webpack_require__","normalizeComponent","ssrContext","__webpack_exports__"],"mappings":"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","file":"static/js/15.bd6d236caf994f845c72.js","sourcesContent":["<template>\r\n  <div class=\"container\">\r\n    <div class=\"swiper-container\">\r\n      <el-carousel :interval=\"4000\" type=\"card\" height=\"300px\">\r\n        <el-carousel-item v-for=\"(list, index) in worksData.worksAttachmentList\" :key=\"index\">\r\n          <img :src=\"address + list.attachmentPath\" alt=\"list.attachmentName\">\r\n        </el-carousel-item>\r\n      </el-carousel>\r\n    </div>\r\n    <div class=\"main-container\">\r\n      <div class=\"title\">\r\n        <h2>订单信息</h2>\r\n      </div>\r\n      <div class=\"order-form-container\">\r\n        <div class=\"order-form-inner-container\">\r\n          <el-form ref=\"orderInfo\" status-icon :model=\"orderInfo\">\r\n            <el-form-item label=\"作品名称：\">\r\n              <el-input v-model=\"orderInfo.worksName\" disabled></el-input>\r\n            </el-form-item>\r\n            <el-form-item label=\"作品价格：\">\r\n              <el-input v-model=\"orderInfo.price\" disabled></el-input>\r\n            </el-form-item>\r\n            <el-form-item label=\"项目期望完成时长：\">\r\n              <el-input v-model=\"orderInfo.expectedTime\" disabled></el-input>\r\n            </el-form-item>\r\n            <el-form-item label=\"我的名称：\">\r\n              <el-input v-model=\"orderInfo.businessName\" disabled></el-input>\r\n            </el-form-item>\r\n            <el-form-item label=\"我的手机号：\">\r\n              <el-input v-model=\"orderInfo.businessTel\" disabled></el-input>\r\n            </el-form-item>\r\n            <el-form-item label=\"我的email：\">\r\n              <el-input v-model=\"orderInfo.businessEmail\" disabled></el-input>\r\n            </el-form-item>\r\n            <el-form-item label=\"我的id：\">\r\n              <el-input v-model=\"orderInfo.businessId\" disabled></el-input>\r\n            </el-form-item>\r\n            <el-form-item label=\"项目id\">\r\n              <el-input v-model=\"orderInfo.projectId\" disabled></el-input>\r\n            </el-form-item>\r\n            <el-form-item label=\"作品id\">\r\n              <el-input v-model=\"orderInfo.worksId\" disabled></el-input>\r\n            </el-form-item>\r\n          </el-form>\r\n          <button class=\"confirm-button\" @click=\"buyWorks(worksData.id)\">确认购买</button>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\n/**\r\n * 订单确认界面\r\n */\r\nimport { enterpriseSelectBid, buyWorks, pay } from \"@/api/user\";\r\nimport { getWorksById } from \"@/api/works\";\r\n\r\nexport default {\r\n  data() {\r\n    return {\r\n      address: \"http://120.79.239.141:8080/\",\r\n      orderInfo: \"\",\r\n      worksData: {},\r\n      payInfo: \"\"\r\n    };\r\n  },\r\n  methods: {\r\n    buyWorks() {\r\n      buyWorks(this.orderInfo).then(res => {\r\n        this.payInfo = res.data;\r\n        const data = {\r\n          out_trade_no: this.payInfo.id,\r\n          product_code: \"FAST_INSTANT_TRADE_PAY\",\r\n          total_amount: this.payInfo.price,\r\n          subject: \"log\",\r\n          body: this.payInfo.worksId\r\n        };\r\n        pay(data)\r\n          .then(res => {\r\n            const div = document.createElement(\"div\");\r\n            div.innerHTML = res;\r\n            document.body.appendChild(div);\r\n            document.forms.punchout_form.submit();\r\n          })\r\n          .catch(err => {\r\n            console.log(err);\r\n          });\r\n      });\r\n    }\r\n  },\r\n  mounted() {\r\n    const data = this.$route.params.data;\r\n    // 获取确认订单的信息\r\n    enterpriseSelectBid(data)\r\n      .then(res => {\r\n        this.orderInfo = res.data;\r\n        // 获取顶部的作品\r\n        getWorksById(data)\r\n          .then(res => {\r\n            this.worksData = res.data;\r\n          })\r\n          .catch(err => {\r\n            console.log(\"查看作品详情失败！\");\r\n          });\r\n      })\r\n      .catch(() => {\r\n        console.log(\"获取确认订单信息失败\");\r\n      });\r\n  }\r\n};\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n@import \"src/assets/scss/index\";\r\n\r\n.container {\r\n  padding-top: $h-nav;\r\n  .swiper-container {\r\n    width: 80%;\r\n    margin: 4rem auto;\r\n  }\r\n  .main-container {\r\n    width: 80%;\r\n    margin: 2rem auto;\r\n    > div {\r\n      margin: 0 auto;\r\n      width: 80%;\r\n    }\r\n    .order-form-container {\r\n      background-color: #fff;\r\n      border: $border;\r\n      border-radius: 4px;\r\n      .order-form-inner-container {\r\n        width: 80%;\r\n        margin: 3rem auto;\r\n        .confirm-button {\r\n          @include margin-tb(2rem, 2rem);\r\n        }\r\n      }\r\n    }\r\n  }\r\n}\r\n</style>\n\n\n// WEBPACK FOOTER //\n// src/views/Order/OrderConfirm.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"container\"},[_c('div',{staticClass:\"swiper-container\"},[_c('el-carousel',{attrs:{\"interval\":4000,\"type\":\"card\",\"height\":\"300px\"}},_vm._l((_vm.worksData.worksAttachmentList),function(list,index){return _c('el-carousel-item',{key:index},[_c('img',{attrs:{\"src\":_vm.address + list.attachmentPath,\"alt\":\"list.attachmentName\"}})])}))],1),_vm._v(\" \"),_c('div',{staticClass:\"main-container\"},[_vm._m(0),_vm._v(\" \"),_c('div',{staticClass:\"order-form-container\"},[_c('div',{staticClass:\"order-form-inner-container\"},[_c('el-form',{ref:\"orderInfo\",attrs:{\"status-icon\":\"\",\"model\":_vm.orderInfo}},[_c('el-form-item',{attrs:{\"label\":\"作品名称：\"}},[_c('el-input',{attrs:{\"disabled\":\"\"},model:{value:(_vm.orderInfo.worksName),callback:function ($$v) {_vm.$set(_vm.orderInfo, \"worksName\", $$v)},expression:\"orderInfo.worksName\"}})],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"作品价格：\"}},[_c('el-input',{attrs:{\"disabled\":\"\"},model:{value:(_vm.orderInfo.price),callback:function ($$v) {_vm.$set(_vm.orderInfo, \"price\", $$v)},expression:\"orderInfo.price\"}})],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"项目期望完成时长：\"}},[_c('el-input',{attrs:{\"disabled\":\"\"},model:{value:(_vm.orderInfo.expectedTime),callback:function ($$v) {_vm.$set(_vm.orderInfo, \"expectedTime\", $$v)},expression:\"orderInfo.expectedTime\"}})],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"我的名称：\"}},[_c('el-input',{attrs:{\"disabled\":\"\"},model:{value:(_vm.orderInfo.businessName),callback:function ($$v) {_vm.$set(_vm.orderInfo, \"businessName\", $$v)},expression:\"orderInfo.businessName\"}})],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"我的手机号：\"}},[_c('el-input',{attrs:{\"disabled\":\"\"},model:{value:(_vm.orderInfo.businessTel),callback:function ($$v) {_vm.$set(_vm.orderInfo, \"businessTel\", $$v)},expression:\"orderInfo.businessTel\"}})],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"我的email：\"}},[_c('el-input',{attrs:{\"disabled\":\"\"},model:{value:(_vm.orderInfo.businessEmail),callback:function ($$v) {_vm.$set(_vm.orderInfo, \"businessEmail\", $$v)},expression:\"orderInfo.businessEmail\"}})],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"我的id：\"}},[_c('el-input',{attrs:{\"disabled\":\"\"},model:{value:(_vm.orderInfo.businessId),callback:function ($$v) {_vm.$set(_vm.orderInfo, \"businessId\", $$v)},expression:\"orderInfo.businessId\"}})],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"项目id\"}},[_c('el-input',{attrs:{\"disabled\":\"\"},model:{value:(_vm.orderInfo.projectId),callback:function ($$v) {_vm.$set(_vm.orderInfo, \"projectId\", $$v)},expression:\"orderInfo.projectId\"}})],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"作品id\"}},[_c('el-input',{attrs:{\"disabled\":\"\"},model:{value:(_vm.orderInfo.worksId),callback:function ($$v) {_vm.$set(_vm.orderInfo, \"worksId\", $$v)},expression:\"orderInfo.worksId\"}})],1)],1),_vm._v(\" \"),_c('button',{staticClass:\"confirm-button\",on:{\"click\":function($event){_vm.buyWorks(_vm.worksData.id)}}},[_vm._v(\"确认购买\")])],1)])])])}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"title\"},[_c('h2',[_vm._v(\"订单信息\")])])}]\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-504e86ae\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/views/Order/OrderConfirm.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-504e86ae\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!sass-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./OrderConfirm.vue\")\n}\nvar normalizeComponent = require(\"!../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./OrderConfirm.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./OrderConfirm.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-504e86ae\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/vue-loader/lib/selector?type=template&index=0!./OrderConfirm.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-504e86ae\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/views/Order/OrderConfirm.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}