webpackJsonp([14],{eo71:function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=s("Dd8w"),n=s.n(o),i=s("NYxO"),a=(s("EMlb"),s("vMJZ")),c=s("TIfe"),r={data:function(){return{activeIndex:"1",address:"http://120.79.239.141:8080/",headers:{Authorization:Object(c.a)()},imageUrl:"",content:{title:"正在审核的项目",projects:"",status:0},status:1,enterpriseInfo:"",collectWorksItems:"",collectProjectsItems:"",verifyItems:[{icon:"user-verify",content:"完善用户信息"},{icon:"phone-verify",content:"手机验证"},{icon:"email",content:"邮箱验证"}],info:"perfectUserInfo",isSelf:!0,id:"",orderInfo:[]}},computed:n()({},Object(i.b)(["user","project"])),methods:{goToProject:function(t){switch(this.status=1,t){case"0":this.content.title="正在审核的项目",this.content.projects=this.project.pendingItems,this.content.status=0;break;case"3":this.content.title="正在招标的项目",this.content.projects=this.project.biddingItems,this.content.status=3;break;case"4":this.content.title="已选标的项目",this.content.projects=this.project.biddenItems,this.content.status=4;break;case"10":this.content.title="审核未通过的项目",this.content.projects=this.project.notPassItems,this.content.status=10}},goToOrder:function(t){this.status=2},goToCollect:function(t){switch(this.status=3,t){case"project":this.content.title="项目",this.content.projects=this.collectProjectsItems,this.content.status=1;break;case"works":this.content.title="作品",this.content.projects=this.collectWorksItems,this.content.status=2}},uploadUrl:function(){return"/api/business/avatar"},onSuccess:function(t,e){this.imageUrl=t.data,this.$message({type:"success",message:"头像上传成功！"})},onBeforeUpload:function(t){var e="image/jpeg"===t.type||"image/png"===t.type,s=t.size/1024/1024<3;return e?s?e&&s:(this.$message({type:"error",message:"上传文件大小不能超过1M!"}),!1):(this.$message({type:"error",message:"上传文件只能是jpeg/png格式!"}),!1)},toVerify:function(t){"完善用户信息"===t?this.info="perfectUserInfo":"手机验证"===t?this.info="verifyPhoneNum":"邮箱验证"===t&&(this.info="verifyEmail"),this.$router.push({name:"VerifyInfo",params:{info:this.info}})},toProjectDetails:function(t){console.log("父组件进入项目详情页面："+t)},deleteProject:function(t){console.log("父组件删除："+t)}},mounted:function(){var t=this;this.$route.params.id?this.$route.params.id!==this.user.userInfo.userId&&(this.isSelf=!1,this.id=this.$route.params.id):this.id=this.user.userInfo.userId;var e={id:this.id};Object(a.m)(e).then(function(s){t.enterpriseInfo=s.data,e={id:t.id,status:0},Object(a.l)(e).then(function(e){t.project.pendingItems=e.data,t.content.status=0,t.content.title="正在审核的项目",t.content.projects=t.project.pendingItems}).catch(function(){console.log("获取正在审核项目失败")}),e={id:t.id,status:3},Object(a.l)(e).then(function(e){t.project.biddingItems=e.data}).catch(function(){console.log("获取正在招标项目失败")}),e={id:t.id,status:4},Object(a.l)(e).then(function(e){console.log(e.data),t.project.biddenItems=e.data}).catch(function(){console.log("获取已选标项目失败")}),e={id:t.id,status:10},Object(a.l)(e).then(function(e){t.project.notPassItems=e.data}).catch(function(){console.log("获取审核未通过项目失败")}),e={id:t.id},Object(a.n)(e).then(function(e){t.orderInfo=e.data,console.log(t.orderInfo);for(var s=0;s<t.orderInfo.length;++s){0===t.orderInfo[s].status?t.orderInfo[s].status="未支付":1===t.orderInfo[s].status?t.orderInfo[s].status="已支付":2===t.orderInfo[s].status?t.orderInfo[s].status="正在进行":3===t.orderInfo[s].status?t.orderInfo[s].status="订单完成":4===t.orderInfo[s].status&&(t.orderInfo[s].status="订单失败");var o=new Date(t.orderInfo[s].gmtCreate),n=o.getFullYear()+"-",i=(o.getMonth()+1<10?"0"+(o.getMonth()+1):o.getMonth()+1)+"-",a=o.getDate()<10?"0"+o.getDate()+" ":o.getDate()+" ";t.orderInfo[s].gmtCreate=n+i+a}}).catch(function(){console.log("获取企业收藏的项目失败")}),Object(a.o)().then(function(e){t.collectProjectsItems=e.data}).catch(function(){console.log("获取企业收藏的项目失败")}),Object(a.p)().then(function(e){t.collectWorksItems=e.data}).catch(function(){console.log("获取企业收藏的作品失败")})}).catch(function(){console.log("获取项目基本信息失败")})}},l={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"container"},[s("div",{staticClass:"background"}),t._v(" "),s("div",{staticClass:"top"},[s("div",{staticClass:"left"},[s("el-upload",{ref:"upload",attrs:{action:t.uploadUrl(),headers:t.headers,accept:"image/jpeg, image/png","auto-upload":!0,"with-credentials":!0,"show-file-list":!1,"before-upload":t.onBeforeUpload,"on-success":t.onSuccess,multiple:!1}},[s("img",{staticClass:"avatar-of-business",attrs:{src:t.address+t.enterpriseInfo.avatar}})]),t._v(" "),t._l(t.verifyItems,function(e,o){return s("div",{key:o,staticClass:"verify-items"},[s("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:e.content,placement:"top"}},[s("svg-icon",{staticClass:"verify-icon",staticStyle:{color:"#666666"},attrs:{icon:e.icon},nativeOn:{click:function(s){t.toVerify(e.content)}}})],1)],1)}),t._v(" "),t._m(0)],2),t._v(" "),t._m(1),t._v(" "),s("div",{staticClass:"right"},[s("div",{staticClass:"edit-profile"},[s("button",{on:{click:function(e){t.toVerify("完善用户信息")}}},[t._v("编辑信息")])])])]),t._v(" "),s("div",{staticClass:"bottom"},[s("div",{staticClass:"main"},[t.project.pendingItems||t.project.biddingItems||t.project.biddenItems||t.project.notPassItems?t._e():s("label",[t._v("空空如也……")]),t._v(" "),s("div",{staticClass:"nav-of-enterprise"},[s("el-menu",{staticClass:"el-menu-demo",attrs:{"default-active":t.activeIndex,mode:"horizontal"}},[s("el-submenu",{attrs:{index:"1"}},[s("template",{slot:"title"},[t._v("项目管理")]),t._v(" "),s("el-menu-item",{attrs:{index:"1-1"}},[s("span",{attrs:{slot:"title"},on:{click:function(e){t.goToProject("0")}},slot:"title"},[t._v("正在审核的项目")])]),t._v(" "),s("el-menu-item",{attrs:{index:"1-2"}},[s("span",{attrs:{slot:"title"},on:{click:function(e){t.goToProject("3")}},slot:"title"},[t._v("正在招标的项目")])]),t._v(" "),s("el-menu-item",{attrs:{index:"1-3"}},[s("span",{attrs:{slot:"title"},on:{click:function(e){t.goToProject("4")}},slot:"title"},[t._v("已选标的项目")])]),t._v(" "),s("el-menu-item",{attrs:{index:"1-4"}},[s("span",{attrs:{slot:"title"},on:{click:function(e){t.goToProject("10")}},slot:"title"},[t._v("审核未通过")])])],2),t._v(" "),s("el-menu-item",{attrs:{index:"2"}},[s("span",{attrs:{slot:"title"},on:{click:function(e){t.goToOrder()}},slot:"title"},[t._v("订单管理")])]),t._v(" "),s("el-submenu",{attrs:{index:"3"}},[s("template",{slot:"title"},[t._v("收藏")]),t._v(" "),s("el-menu-item",{attrs:{index:"3-1"}},[s("span",{attrs:{slot:"title"},on:{click:function(e){t.goToCollect("works")}},slot:"title"},[t._v("作品")])]),t._v(" "),s("el-menu-item",{attrs:{index:"3-2"}},[s("span",{attrs:{slot:"title"},on:{click:function(e){t.goToCollect("project")}},slot:"title"},[t._v("项目")])])],2)],1),t._v(" "),s("div",{staticClass:"line"})],1),t._v(" "),s("div",{staticClass:"content-container",staticStyle:{"padding-top":"2rem"}},[s("span",{staticStyle:{"margin-left":"1rem"}},[t._v(t._s(t.content.title))]),t._v(" "),s("div",{directives:[{name:"show",rawName:"v-show",value:1===t.status,expression:"status === 1"}],staticClass:"project-item"},[s("div",{staticClass:"item-container"},t._l(t.content.projects,function(e,o){return s("project-item-epitome",{key:o,attrs:{projectItem:e,status:t.content.status}})}))]),t._v(" "),s("div",{directives:[{name:"show",rawName:"v-show",value:2===t.status,expression:"status === 2"}],staticClass:"order-item"},[s("el-table",{staticStyle:{width:"100%"},attrs:{data:t.orderInfo,"tooltip-effect":"dark",stripe:"","default-sort":{prop:"id",order:"descending"}}},[s("el-table-column",{attrs:{prop:"projectName",label:"项目名称"}}),t._v(" "),s("el-table-column",{attrs:{prop:"businessName",label:"企业名称"}}),t._v(" "),s("el-table-column",{attrs:{prop:"worksName",label:"作品名称"}}),t._v(" "),s("el-table-column",{attrs:{prop:"price",label:"价格",sortable:""}}),t._v(" "),s("el-table-column",{attrs:{prop:"status",label:"订单状态"}}),t._v(" "),s("el-table-column",{attrs:{prop:"gmtCreate",label:"创建时间"}})],1)],1),t._v(" "),s("div",{directives:[{name:"show",rawName:"v-show",value:3===t.status,expression:"status === 3"}],staticClass:"collect-item"},[2===t.content.status?s("div",{staticClass:"works-container"},t._l(t.content.projects,function(t,e){return s("works-item",{key:e,attrs:{works:t}})})):t._e(),t._v(" "),1===t.content.status?s("div",{staticClass:"projects-container"},t._l(t.content.projects,function(t,e){return s("project-item",{key:e,attrs:{projectItems:t}})})):t._e()])])]),t._v(" "),s("div",{staticClass:"right-bar"},[s("div",{staticClass:"right-bar-verify"},[t._m(2),t._v(" "),t._l(t.verifyItems,function(e,o){return s("div",{key:o,staticClass:"verify-item-details"},[s("div",{staticClass:"verify-inner"},[s("svg-icon",{staticClass:"verify-icon",staticStyle:{color:"#666666"},attrs:{icon:e.icon}}),t._v(" "),s("span",{staticStyle:{"font-size":"14px","margin-left":".5rem"}},[s("a",{on:{click:function(s){t.toVerify(e.content)}}},[t._v(t._s(e.content))])])],1)])})],2)])])])},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"followers-and-following"},[e("span",[this._v("followers 3")]),this._v(" "),e("span",[this._v("following 4")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"center"},[e("div",{staticClass:"username"},[e("span",{staticStyle:{"font-size":"25px"}},[e("strong",[this._v("Honeysyt")])])]),this._v(" "),e("div",{staticClass:"description"},[e("textarea",{attrs:{disabled:""}},[this._v("here is the description of me.here is the description of me.")])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"right-bar-title"},[e("span",{staticStyle:{"font-size":"18px"}},[e("strong",[this._v("验证")])])])}]};var u=s("VU/8")(r,l,!1,function(t){s("jjCM")},"data-v-52482fc6",null);e.default=u.exports},jjCM:function(t,e){}});
//# sourceMappingURL=14.60e72ea12541ac086549.js.map