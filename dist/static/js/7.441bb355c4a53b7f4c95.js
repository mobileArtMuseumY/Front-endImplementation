webpackJsonp([7],{bcbr:function(t,e){},bxNp:function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=s("Dd8w"),a=s.n(i),r=s("NYxO"),o=s("lPwG"),n=s("vMJZ"),c=s("TIfe"),l={data:function(){return{worksItems:"",studentInfo:"",collectWorksItem:"",isSelf:!0,id:"",address:"http://120.79.239.141:8080/",headers:{Authorization:Object(c.a)()},verifyItems:[{icon:"user-verify",content:"完善用户信息"},{icon:"phone-verify",content:"手机验证"},{icon:"email",content:"邮箱验证"}],collectWorksItems:[{studentName:"千竹",works:"lalala"},{studentName:"千竹呀",works:"lalala"}],collectProjectsItems:[{enterpriseName:"千竹",projectDescription:"lalala"},{enterpriseName:"千竹呀",projectDescription:"lalala"},{enterpriseName:"千竹",projectDescription:"lalala"},{enterpriseName:"千竹呀",projectDescription:"lalala"}]}},computed:a()({},Object(r.b)(["user"])),methods:{uploadUrl:function(){return"/api/student/avatar"},onSuccess:function(t,e){this.studentInfo.avatar=t.data,this.$message({type:"success",message:"上传成功！"})},onBeforeUpload:function(t){var e="image/jpeg"===t.type||"image/png"===t.type,s=t.size/1024/1024<3;return e?s?e&&s:(this.$message({type:"error",message:"上传文件大小不能超过1M!"}),!1):(this.$message({type:"error",message:"上传文件只能是jpeg/png格式!"}),!1)},toVerify:function(t){"完善用户信息"===t?(this.info="perfectUserInfo",console.log(this.info)):"手机验证"===t?this.info="verifyPhoneNum":"邮箱验证"===t&&(this.info="verifyEmail"),this.$router.push({name:"VerifyEmail",params:{info:this.info}})},goToUploadWorks:function(){this.$router.push({name:"WorksUpload"})}},mounted:function(){var t=this;this.$route.params.id?this.$route.params.id!==this.user.userInfo.userId&&(this.isSelf=!1,this.id=this.$route.params.id):this.id=this.user.userInfo.userId;var e={id:this.id};Object(n.q)(e).then(function(s){t.studentInfo=s.data,e={id:t.id,page:1,rows:10},Object(o.c)(e).then(function(e){t.worksItems=e.data}).catch(function(e){t.$message({type:"error",message:"获取作品信息失败！"})})}).catch(function(e){t.$message({type:"error",message:"获取学生基本信息失败！"})})}},v={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"container"},[s("div",{staticClass:"background"}),t._v(" "),s("div",{staticClass:"top"},[s("div",{staticClass:"left"},[s("el-upload",{ref:"upload",attrs:{action:t.uploadUrl(),headers:t.headers,accept:"image/jpeg, image/png","auto-upload":!0,"with-credentials":!0,"show-file-list":!1,"before-upload":t.onBeforeUpload,"on-success":t.onSuccess,multiple:!1}},[s("img",{staticClass:"avatar-of-student",attrs:{src:t.address+t.studentInfo.avatar}})]),t._v(" "),t._m(0)],1),t._v(" "),t._m(1),t._v(" "),s("div",{staticClass:"right"},[s("div",{staticClass:"edit-profile"},[s("button",{on:{click:function(e){t.toVerify("完善用户信息")}}},[t._v("编辑信息")])])]),t._v(" "),s("div")]),t._v(" "),s("div",{staticClass:"bottom"},[s("div",{staticClass:"main"},[s("div",{staticClass:"main-top"},[s("h2",[t._v("作品展示")]),t._v(" "),t.isSelf?s("div",{staticClass:"upload"},[s("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:"上传作品",placement:"top"}},[s("a",{staticStyle:{cursor:"pointer"},on:{click:t.goToUploadWorks}},[s("i",{staticClass:"el-icon-plus avatar-uploader-icon",staticStyle:{width:"20px",height:"20px",border:"none"}})])])],1):t._e()]),t._v(" "),s("div",{staticClass:"main-body"},t._l(t.worksItems,function(t,e){return s("works-items-self",{key:e,attrs:{worksItem:t,type:"details"}})}))]),t._v(" "),s("div",{staticClass:"right-bar"},[s("div",{staticClass:"right-bar-verify"},[t._m(2),t._v(" "),t._l(t.verifyItems,function(e,i){return s("div",{key:i,staticClass:"verify-item-details"},[s("div",{staticClass:"verify-inner"},[s("svg-icon",{staticClass:"verify-icon",staticStyle:{color:"#666666"},attrs:{icon:e.icon}}),t._v(" "),s("span",{staticStyle:{"font-size":"14px","margin-left":".5rem"}},[s("a",{on:{click:function(s){t.toVerify(e.content)}}},[t._v(t._s(e.content))])])],1)])})],2),t._v(" "),s("div",{staticClass:"right-bar-collect"},[t._m(3),t._v(" "),s("div",{staticClass:"collect-item-details"},[s("span",[t._v("作品：")]),t._v(" "),t._l(t.collectWorksItems,function(e,i){return s("div",{staticClass:"collect-inner-works"},[s("span",{key:i+"-name"},[t._v(t._s(e.studentName)+"：")]),t._v(" "),s("span",{key:i+"-works"},[t._v(t._s(e.works))])])}),t._v(" "),s("svg-icon",{staticClass:"more",staticStyle:{color:"#BCBCBC"},attrs:{icon:"more"},nativeOn:{click:function(e){t.goToCollect()}}}),t._v(" "),s("br"),t._v(" "),s("hr"),t._v(" "),s("br"),t._v(" "),s("span",[t._v("项目：")]),t._v(" "),t._l(t.collectProjectsItems,function(e,i){return s("div",{staticClass:"collect-inner-project"},[s("span",{key:i+"-name"},[t._v(t._s(e.enterpriseName)+"：")]),t._v(" "),s("span",{key:i+"-works"},[t._v(t._s(e.projectDescription))])])}),t._v(" "),s("svg-icon",{staticClass:"more",staticStyle:{color:"#BCBCBC"},attrs:{icon:"more"},nativeOn:{click:function(e){t.goToCollect()}}})],2)])])])])},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"followers-and-following"},[e("span",[this._v("followers 3")]),this._v(" "),e("span",[this._v("following 4")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"center"},[e("div",{staticClass:"username"},[e("span",{staticStyle:{"font-size":"25px"}},[e("strong",[this._v("Honeysyt")])])]),this._v(" "),e("div",{staticClass:"description"},[e("textarea",{attrs:{disabled:""}},[this._v("here is the description of me.here is the description of me.")])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"right-bar-title"},[e("span",{staticStyle:{"font-size":"18px"}},[e("strong",[this._v("验证")])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"right-bar-title"},[e("span",{staticStyle:{"font-size":"18px"}},[e("strong",[this._v("收藏")])])])}]};var d=s("VU/8")(l,v,!1,function(t){s("bcbr")},"data-v-f3e493d0",null);e.default=d.exports}});
//# sourceMappingURL=7.441bb355c4a53b7f4c95.js.map